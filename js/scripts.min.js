jQuery(function(a){function b(){m||(l&&(console.log("clearing timeout"),clearTimeout(l),l=!1),l=setTimeout(c,2e3))}function c(){g.removeClass("ig-waiting"),g.addClass("ig-updating");var b={action:"update_idea_garden_public_list",form_id:ideaGardenFilterBar.formId,"ig-product":i.find("option:selected").val(),"ig-status":j.find("option:selected").val(),"ig-order-sequence":k.find("option:selected").val()};a.ajax({type:"POST",dataType:"json",url:ideaGardenFilterBar.url,data:b,error:e,success:d}),m=!0,console.log("Sent request")}function d(b){f(),h.replaceWith(b.data.html),h=a("section.ig-idea-list")}function e(){f()}function f(){m=!1,g.removeClass("ig-updating")}var g=a("nav.ig-filters"),h=a("section.ig-idea-list"),i=g.find('[name="ig-product"]'),j=g.find('[name="ig-status"]'),k=g.find('[name="ig-order-sequence"]'),l=!1,m=!1;g.on("change",function(){g.addClass("ig-waiting"),b()})}),jQuery(function(a){function b(){var a=h.find(":selected");if(a.length){var b=a.html();i&&(b="<em>"+b+"</em>"),g.html(b)}}function c(){g.hide(),h.show()}function d(){g.show(),h.hide(),i=!0,b()}function e(){b(),h.hide(),g.click(c),h.change(d)}var f=a(".nf-sub-info-status"),g=f.find("strong"),h=f.find("select"),i=!1;e()}),jQuery(function(a){function b(a){var b=0,c=a.split(" ");for(i=0;i<c.length;i++)c[i].length&&b++;return b}function c(){return m.filter(":checked").length}function d(a,b){b?a.addClass("highlight"):a.removeClass("highlight")}function e(){var a=!1,e=b(p.val()),f=b(n.val()),g=e+f,h=c();return e&&f&&g>11&&h&&(a=!0),d(m,!h),d(o,g<6),d(p,!e),a}function f(a){a.preventDefault(),e()&&!q&&h()}function g(){var b=[];return m.filter(":checked").each(function(){b.push(a(this).val())}),b}function h(){var b={categories:g(),check:ideaGardenSubmissions.safety,description:n.val(),title:p.val()};a.ajax({action:"submit_idea",data:b,dataType:"json",error:j,success:k,type:"POST",url:ideaGardenSubmissions.ajaxUrl}),q=!0}function j(a){q=!1}function k(a){q=!1}var l=a(".ig-idea-submission-form form"),m=l.find('input[name="idea-categories[]"]'),n=l.find('textarea[name="idea-description"]'),o=a("#ig-idea-submission-form__more-detail-needed"),p=l.find('input[name="idea-title"]'),q=!1;l.on("submit",f)}),jQuery(function(a){function b(){var b=a(this),c=b.parents(".ig-voting-form");c.addClass("updating"),e(c,"add")}function c(){var b=a(this),c=b.parents(".ig-voting-form");c.removeClass("voted"),c.addClass("updating"),e(c,"remove")}function d(a){var b=a.data.idea_id,c=a.data.user_voted,d=a.data.votes,e=f.find('.ig-voting-form[data-idea-id="'+b+'"]');e.length&&(e.removeClass("updating"),c&&e.addClass("voted"),e.find(".ig-voting-form__votes").html(d))}function e(b,c){var e={action:"idea_garden.idea_vote",mode:c,idea_id:b.data("ideaId"),user_id:b.data("userId"),check:b.data("check")};a.post(ideaGarden.ajaxUrl,e,d)}var f=a(".ig-idea-list");f.on("click",".ig-voting-form__vote",b),f.on("click",".ig-voting-form__remove",c)});