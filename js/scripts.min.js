jQuery(function(a){function b(){m||(l&&(console.log("clearing timeout"),clearTimeout(l),l=!1),l=setTimeout(c,2e3))}function c(){g.removeClass("ig-waiting"),g.addClass("ig-updating");var b={action:"update_idea_garden_public_list",form_id:ideaGardenFilterBar.formId,"ig-product":i.find("option:selected").val(),"ig-status":j.find("option:selected").val(),"ig-order-sequence":k.find("option:selected").val()};a.ajax({type:"POST",dataType:"json",url:ideaGardenFilterBar.url,data:b,error:e,success:d}),m=!0,console.log("Sent request")}function d(b){f(),h.replaceWith(b.data.html),h=a("section.ig-idea-list")}function e(){f()}function f(){m=!1,g.removeClass("ig-updating")}var g=a("nav.ig-filters"),h=a("section.ig-idea-list"),i=g.find('[name="ig-product"]'),j=g.find('[name="ig-status"]'),k=g.find('[name="ig-order-sequence"]'),l=!1,m=!1;g.on("change",function(){g.addClass("ig-waiting"),b()})}),jQuery(function(a){function b(){var a=h.find(":selected");if(a.length){var b=a.html();i&&(b="<em>"+b+"</em>"),g.html(b)}}function c(){g.hide(),h.show()}function d(){g.show(),h.hide(),i=!0,b()}function e(){b(),h.hide(),g.click(c),h.change(d)}var f=a(".nf-sub-info-status"),g=f.find("strong"),h=f.find("select"),i=!1;e()}),jQuery(function(a){function b(a){var b=0,c=a.split(" ");for(i=0;i<c.length;i++)c[i].length&&b++;return b}function c(a,b){b?a.addClass("highlight"):a.removeClass("highlight")}function d(){var a=!1,d=b(m.val()),e=b(k.val()),f=d+e,g=g();return d&&e&&f>11&&g&&(a=!0),c(j,!g),c(k,!e),c(l,f<12),c(m,!d),a}function e(a){a.preventDefault(),d()&&g()}function f(){var b=[];return j.filter(":checked").each(function(){b.push(a(this).val())}),b}function g(){f(),ideaGardenSubmissions.safety,k.html(),m.val()}var h=a(".ig-idea-submission-form form"),j=h.find('input[name="idea-categories[]"]'),k=h.find('textarea[name="idea-description"]'),l=a("#ig-idea-submission-form__more-detail-needed"),m=h.find('input[name="idea-title"]');h.on("submit",e)}),jQuery(function(a){function b(){var b=a(this),c=b.parents(".ig-voting-form");c.addClass("updating"),e(c,"add")}function c(){var b=a(this),c=b.parents(".ig-voting-form");c.removeClass("voted"),c.addClass("updating"),e(c,"remove")}function d(a){var b=a.data.idea_id,c=a.data.user_voted,d=a.data.votes,e=f.find('.ig-voting-form[data-idea-id="'+b+'"]');e.length&&(e.removeClass("updating"),c&&e.addClass("voted"),e.find(".ig-voting-form__votes").html(d))}function e(b,c){var e={action:"idea_garden.idea_vote",mode:c,idea_id:b.data("ideaId"),user_id:b.data("userId"),check:b.data("check")};a.post(ideaGarden.ajaxUrl,e,d)}var f=a(".ig-idea-list");f.on("click",".ig-voting-form__vote",b),f.on("click",".ig-voting-form__remove",c)});